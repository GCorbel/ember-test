{{#em-form model=model submitButton=false}}
  <div class="row">
    {{#each items as |item|}}
      <div id="item-{{item.position}}">
      {{#if (eq item.objectType 'subscription')}}
        {{#if (and (not-eq item.creator false) (not-eq item.creator true)) class="choose-subscriber"}}

          {{#default-box title=(t 'who-do-you-subscribe') }}
            <div class="col-md-6">
              <input type="button" class='btn btn-default btn-block btn-flat' {{action 'subscribeMyself' item true }} value={{t "subscribe-myself"}}>
            </div>
            <div class="col-md-6">
              <input type="button" class='btn btn-default btn-block btn-flat' {{action 'subscribeMyself' item false }} value={{t 'subscribe-someone-else'}}>
            </div>
          {{/default-box}}

        {{else}}
          {{#if (and (eq item.creator false) (not-eq myselfSubscribed true) (eq items.length 1))}}

            {{#default-box title=(t 'information-principal-contact')}}
              <div class='col-md-12'>
                {{em-input cid=(concat "contact" item.position "-first-name") model=item label=(t 'first-name') property="tutorFirstName"}}
                {{em-input cid=(concat "contact" item.position "-last-name") model=item label=(t 'last-name') property="tutorLastName"}}
                {{em-input cid=(concat "contact" item.position "-birth-datn") model=item label=(t 'birth-date') property="birthDate" type="date"}}
                {{em-input cid=(concat "contact" item.position "-phone") model=item label=(t 'phone') property="tutorPhone"}}
                {{em-input cid=(concat "contact" item.position "-email") model=item label=(t 'email') property="tutorEmail"}}
                {{em-text cid=(concat "contact" item.position "-comments") model=item label=(t 'comments') property="comments"}}
              </div>
            {{/default-box}}

          {{/if}}
          {{#if (or (eq item.creator false) (eq item.creator true))}}
            {{#default-box title=(t 'member' fullname=item.fullname)}}
              <div class='col-md-12'>
                {{em-input cid=(concat "subscription" item.position "-first-name") model=item label=(t 'first-name') property="firstName"}}
                {{em-input cid=(concat "subscription" item.position "-last-name") model=item label=(t 'last-name') property="lastName"}}
                {{em-input cid=(concat "subscription" item.position "-birth-date") model=item label=(t 'birth-date') property="birthDate" type="date"}}
                {{em-input cid=(concat "subscription" item.position "-phone") model=item label=(t 'phone') property="phone"}}
                {{em-input cid=(concat "subscription" item.position "-email") model=item label=(t 'email') property="email"}}
                {{em-select cid=(concat "subscription" item.position "-course") model=item label=(t 'course') property="course" content=courses prompt=" " propertyIsModel=true optionLabelPath="name"}}
                {{em-text cid=(concat "subscription" item.position "-comments") model=item label=(t 'comments') property="comments"}}
              </div>
            {{/default-box}}
          {{/if}}
        {{/if}}
      {{else if (eq item.objectType 'contact')}}

        {{#default-box title=(t 'contact' fullname=item.fullname)}}
          <div class='col-md-12'>
            {{em-input cid=(concat "contact" item.position "-fullname") model=item label=(t 'fullname') property="fullname"}}
            {{em-input cid=(concat "contact" item.position "-phone") model=item label=(t 'phone') property="phone"}}
            {{em-input cid=(concat "contact" item.position "-email") model=item label=(t 'email') property="email"}}
            {{em-text cid=(concat "contact" item.position "-comments") model=item label=(t 'comments') property="comments"}}
          </div>
        {{/default-box}}

      {{/if}}
      </div>
    {{/each}}

    {{#if showFinalOptions class="final-options"}}
      {{#default-box title=(t 'payment-options')}}
        <div class="col-md-4">
          <input type="submit" class="btn btn-default btn-block btn-flat" value={{t 'add-contact'}} {{action 'addContact'}}>
        </div>
        <div class="col-md-4">
          <input type="button" class="btn btn-default btn-block btn-flat" value={{t 'add-subscription'}} {{action 'addSubscription' }}>
        </div>
        <div class="col-md-4">
          <input type="button" class="btn btn-primary btn-block btn-flat" value={{t 'finish'}} {{action 'doShowPaymentOptions' }}>
        </div>
      {{/default-box}}
    {{/if}}

    {{#if showPaymentOptions class="payment-options"}}
      {{#default-box title=(t 'payment-options')}}
        <div class="col-md-3">
          <input type="button" class="btn btn-default btn-block btn-flat" value={{t 'pay-later'}} {{action 'payLater' }}>
        </div>
        <div class="col-md-3">
          <input type="button" class="btn btn-default btn-block btn-flat" value={{t 'pay-in-three-times'}} {{action 'payLater' }}>
        </div>
        <div class="col-md-3">
          <input type="button" class="btn btn-default btn-block btn-flat" value={{t 'pay-in-six-times'}} {{action 'payLater' }}>
        </div>
        <div class="col-md-3">
          <input type="submit" class="btn btn-primary btn-block btn-flat" value={{t 'pay-now'}} {{action 'submit'}}>
        </div>
      {{/default-box}}
    {{/if}}

  </div>
  {{yield}}
{{/em-form}}
